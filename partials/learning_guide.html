<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/3.0.1/modern-normalize.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Roboto:wght@400;500;600;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Гайд по обучению - Руководство по JavaScript</title>
</head>

<body>
    <div id="progress-bar"></div>

    <header>
        <div class="container">
            <button id="theme-toggle">Светлая тема</button>
            <h1>JavaScript: Полное руководство для изучения</h1>
            <nav>
                <ul>
                    <li><a href="../index.html">Главная</a></li>
                    <li><a href="learning_guide.html" class="active">Гайд по обучению</a></li>
                    <li><a href="basics.html">Основы</a></li>
                    <li><a href="arrays.html">Массивы</a></li>
                    <li><a href="functions.html">Функции</a></li>
                    <li><a href="loops.html">Циклы</a></li>
                    <li><a href="objects.html">Объекты</a></li>
                    <li><a href="oop-classes.html">ООП и классы</a></li>
                    <li><a href="exercises.html">Упражнения</a></li>
                    <li><a href="projects.html">Проекты</a></li>
                    <li><a href="resources.html">Ресурсы</a></li>
                    <li><a href="dom_summary.html">Памятка по DOM</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1>Гайд по изучению JavaScript</h1>
        <p>В этом документе представлены рекомендации и структура для эффективного изучения JavaScript с использованием
            материалов этого сайта.</p>

        <h2 id="структура-обучения">Структура обучения</h2>

        <section id="рекомендуемый-порядок-изучения" class="fade-in visible">
            <h3>Рекомендуемый порядок изучения</h3>
            <p>Для наиболее эффективного освоения материала рекомендуется проходить темы в следующем порядке:</p>
            <ol>
                <li><strong><a href="basics.html">Основы JavaScript</a></strong> (<code>01_basics.js</code>)
                    <ul>
                        <li>Переменные (<code>let</code>, <code>const</code>, <code>var</code>) и типы данных
                            (<code>string</code>, <code>number</code>, <code>boolean</code>, <code>null</code>,
                            <code>undefined</code>, <code>symbol</code>, <code>bigint</code>).
                        </li>
                        <li>Операторы (арифметические, сравнения, логические, присваивания).</li>
                        <li>Работа со строками, шаблонные строки.</li>
                        <li>Условные конструкции (<code>if...else</code>, <code>switch</code>).</li>
                        <li>Преобразование типов.</li>
                    </ul>
                </li>
                <li><strong><a href="arrays.html">Массивы</a></strong> (<code>02_arrays.js</code>)
                    <ul>
                        <li>Создание массивов, доступ к элементам по индексу.</li>
                        <li>Основные методы: <code>push</code>, <code>pop</code>, <code>shift</code>,
                            <code>unshift</code>, <code>slice</code>, <code>splice</code>, <code>concat</code>,
                            <code>indexOf</code>, <code>includes</code>.
                        </li>
                        <li>Перебор элементов (циклы, <code>forEach</code>).</li>
                    </ul>
                </li>
                <li><strong><a href="functions.html">Функции</a></strong> (<code>03_functions.js</code>)
                    <ul>
                        <li>Способы объявления: Function Declaration, Function Expression, Arrow Functions.</li>
                        <li>Параметры (включая параметры по умолчанию, rest-параметр) и аргументы.</li>
                        <li>Возврат значений (<code>return</code>).</li>
                        <li>Область видимости (глобальная, функциональная, блочная), замыкания.</li>
                        <li>Функции высшего порядка, колбэки.</li>
                        <li>Контекст вызова <code>this</code> (<code>call</code>, <code>apply</code>,
                            <code>bind</code>).
                        </li>
                    </ul>
                </li>
                <li><strong><a href="loops.html">Циклы и управление потоком</a></strong>
                    (<code>04_loops_and_control_flow.js</code>)
                    <ul>
                        <li>Циклы: <code>for</code>, <code>while</code>, <code>do...while</code>.</li>
                        <li>Циклы для перебора: <code>for...of</code> (для итерируемых объектов), <code>for...in</code>
                            (для ключей объектов).</li>
                        <li>Управление циклами: <code>break</code>, <code>continue</code>, метки.</li>
                        <li>Обработка ошибок: <code>try...catch...finally</code>, <code>throw</code>.</li>
                    </ul>
                </li>
                <li><strong><a href="objects.html">Объекты</a></strong> (<code>05_objects.js</code>)
                    <ul>
                        <li>Создание объектов (литералы, конструкторы).</li>
                        <li>Свойства и методы объектов.</li>
                        <li>Доступ, добавление, изменение, удаление свойств.</li>
                        <li>Ключевое слово <code>this</code> в методах.</li>
                        <li>Перебор свойств (<code>for...in</code>, <code>Object.keys/values/entries</code>).</li>
                        <li>Копирование объектов (поверхностное и глубокое).</li>
                        <li>Деструктуризация объектов.</li>
                        <li>Геттеры и сеттеры.</li>
                        <li>Основы прототипного наследования (<code>Object.create</code>).</li>
                    </ul>
                </li>
                <li><strong><a href="oop-classes.html">ООП и классы</a></strong> (<code>06_oop_classes.js</code>)
                    <ul>
                        <li>Синтаксис классов (<code>class</code>, <code>constructor</code>).</li>
                        <li>Методы класса и прототипы.</li>
                        <li>Приватные свойства и методы (<code>#</code>).</li>
                        <li>Геттеры и сеттеры в классах.</li>
                        <li>Статические свойства и методы (<code>static</code>).</li>
                        <li>Наследование классов (<code>extends</code>, <code>super</code>).</li>
                    </ul>
                </li>
                <li><strong><a href="dom_summary.html">Работа с DOM</a></strong> (<code>10_dom_summary.js</code>)
                    <ul>
                        <li>Поиск элементов (<code>querySelector</code>, <code>querySelectorAll</code>, etc.).</li>
                        <li>Навигация по DOM-дереву.</li>
                        <li>Изменение содержимого (<code>textContent</code>, <code>innerHTML</code>).</li>
                        <li>Работа с атрибутами и классами (<code>classList</code>, <code>dataset</code>).</li>
                        <li>Манипуляция стилями (<code>element.style</code>).</li>
                        <li>Создание и удаление элементов.</li>
                        <li>Обработка событий (<code>addEventListener</code>, <code>removeEventListener</code>, объект
                            события).</li>
                    </ul>
                </li>
                <li><strong><a href="exercises.html">Практические Упражнения</a></strong> (<code>07_exercises.js</code>)
                    - Решение задач для закрепления каждой темы.</li>
                <li><strong><a href="projects.html">Проекты</a></strong> (<code>08_projects.js</code>) - Применение
                    знаний на практике в небольших проектах.</li>
                <li><strong><a href="resources.html">Дополнительные Ресурсы</a></strong> - Ссылки на книги, курсы,
                    документацию.</li>
            </ol>
        </section>

        <section id="временные-рамки" class="fade-in visible">
            <h3>Временные рамки (Примерные)</h3>
            <p>Скорость изучения индивидуальна, но вот примерный ориентир, сколько времени может потребоваться на каждую
                основную тему при регулярных занятиях (например, 1.5-2 часа в день):</p>
            <ul>
                <li>Основы JavaScript: 2-4 дня</li>
                <li>Массивы: 2-3 дня</li>
                <li>Функции: 3-5 дней</li>
                <li>Циклы и управление потоком: 2-3 дня</li>
                <li>Объекты: 3-4 дня</li>
                <li>ООП и классы: 2-4 дня</li>
                <li>Работа с DOM: 4-6 дней</li>
                <li>Упражнения и проекты: Постоянно, параллельно с изучением тем</li>
            </ul>
            <p>Не торопитесь, главное — понимание и практика.</p>
        </section>

        <section id="ежедневный-план" class="fade-in visible">
            <h3>Ежедневный план (Рекомендация)</h3>
            <p>Чтобы обучение было системным, попробуйте придерживаться такого плана на день:</p>
            <ol>
                <li><strong>Повторение (15-20 минут):</strong> Быстро просмотрите конспект или код предыдущего дня.
                    Вспомните основные концепции.</li>
                <li><strong>Новая тема (30-40 минут):</strong> Изучите теорию по текущей теме из соответствующего
                    раздела сайта.</li>
                <li><strong>Практические упражнения (30-40 минут):</strong> Выполните упражнения из раздела <a
                        href="exercises.html">Упражнения</a>, относящиеся к изученной теме. Старайтесь сначала решить
                    самостоятельно.</li>
                <li><strong>Мини-проект/Применение (20-30 минут):</strong> Попробуйте применить новые знания в одном из
                    <a href="projects.html">проектов</a> или придумайте свою небольшую задачу.
                </li>
                <li><strong>Закрепление (10-15 минут):</strong> Объясните изученную концепцию своими словами (можно
                    вслух, можно записать). Это отлично помогает выявить пробелы в понимании.</li>
            </ol>
            <p>Корректируйте время под себя, но старайтесь сохранять баланс между теорией и практикой.</p>
        </section>

        <h2 id="практические-упражнения-гайд">Примеры Упражнений (из раздела "Упражнения")</h2>
        <p>Здесь приведены примеры кода из раздела <a href="exercises.html">Упражнения</a> для демонстрации
            интерактивных блоков.</p>

        <section id="упражнения-по-основам-javascript-гайд" class="fade-in visible">
            <h3>Пример: Упражнения по основам JavaScript</h3>
            <div class="code-block">
                <pre><code class="language-javascript">// ===== Упражнения по основам JavaScript =====
// Выводим заголовок секции.
console.log("===== Упражнения по основам JavaScript =====");

// --- Упражнение 1: Работа с переменными и типами данных ---
// Задание: Создайте переменные разных типов и выполните с ними операции.

// 1. Создаем переменные: строка, число, булево, массив, объект.
let name = "Алексей"; // Строка (string)
let age = 30; // Число (number)
let isStudent = false; // Булево (boolean)
let hobbies = ["кодинг", "музыка"]; // Массив (object, подтип Array)
let person = { name: name, age: age }; // Объект (object)

// 2. Выполняем операции:
// Сложение строки и числа приводит к КОНКАТЕНАЦИИ (слиянию строк).
let stringPlusNumber = name + age;
// Сравнение числа и булева: true преобразуется к 1, false к 0.
let numberVsBoolean = age > isStudent; // 30 > 0 -> true
// Добавляем элемент в массив.
hobbies.push("спорт");
// Добавляем новое свойство в объект.
person.city = "Калининград";

// 3. Выводим результаты в консоль.
console.log("\n--- Упражнение 1 ---");
console.log("Переменные:");
console.log("  Имя (строка):", name);
console.log("  Возраст (число):", age);
console.log("  Студент? (булево):", isStudent);
console.log("  Хобби (массив):", hobbies);
console.log("  Персона (объект):", person);
console.log("\nРезультаты операций:");
console.log("  Сложение строки и числа:", stringPlusNumber); // "Алексей30"
console.log("  Сравнение числа и булева (age > isStudent):", numberVsBoolean); // true
console.log("  Массив после добавления:", hobbies); // ["кодинг", "музыка", "спорт"]
console.log("  Объект после добавления свойства:", person); // { name: 'Алексей', age: 30, city: 'Калининград' }

// --- Упражнение 2: Шаблонные строки ---
// Задание: Создайте шаблонную строку, включающую переменные и выражения.

// 1. Используем переменные из предыдущего упражнения (name, age, isStudent).
// 2. Создаем шаблонную строку с помощью обратных кавычек (`).
//    Внутри можно вставлять переменные и выражения через ${...}.
console.log("\n--- Упражнение 2 ---");
const mathResult = 10 * 2; // Простое вычисление.
// Тернарный оператор: условие ? значение_если_true : значение_если_false.
const status = isStudent ? "студент" : "не студент";
// Собираем строку.
const greeting = `Меня зовут ${name}, мне ${age} лет. Я ${status}. Результат 10 * 2 = ${mathResult}.`;
// Выводим готовую строку.
console.log("Шаблонная строка:", greeting);
</code></pre>
                <button class="run-code" data-example="guide-basics">Запустить пример</button>
                <button class="copy-code">Скопировать</button>
                <button class="toggle-code">Скрыть код</button>
                <div class="output"></div>
            </div>
        </section>

        <section id="упражнения-по-массивам-гайд" class="fade-in visible">
            <h3>Пример: Упражнения по массивам</h3>
            <div class="code-block">
                <pre><code class="language-javascript">// ===== Упражнения по массивам =====
console.log("\n===== Упражнения по массивам =====");

// --- Упражнение 1: Методы массивов ---
// Задание: Используйте различные методы для работы с массивом.

// Исходный массив чисел.
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
console.log("\n--- Упражнение 1 ---");
console.log("Исходный массив:", numbers);

// 1. filter(): Создает НОВЫЙ массив с элементами, прошедшими проверку.
// Оставляем только те числа, которые делятся на 2 без остатка (четные).
const evenNumbers = numbers.filter(num => num % 2 === 0);
console.log("1. Четные числа (filter):", evenNumbers); // [2, 4, 6, 8, 10]

// 2. map(): Создает НОВЫЙ массив, применив функцию к каждому элементу.
// Умножаем каждое число на 2.
const doubledNumbers = numbers.map(num => num * 2);
console.log("2. Умноженные на 2 (map):", doubledNumbers); // [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

// 3. reduce(): Сводит массив к одному значению.
// Считаем сумму всех чисел. 'sum' - аккумулятор, 'num' - текущий элемент. 0 - начальное значение sum.
const sumNumbers = numbers.reduce((sum, num) => sum + num, 0);
console.log("3. Сумма чисел (reduce):", sumNumbers); // 55

// 4. some(): Проверяет, есть ли ХОТЯ БЫ ОДИН элемент, удовлетворяющий условию.
// Проверяем, есть ли число больше 8.
const hasGreaterThan8 = numbers.some(num => num > 8);
console.log("4. Есть ли число > 8 (some)?", hasGreaterThan8); // true

// 5. findIndex(): Возвращает ИНДЕКС ПЕРВОГО элемента, удовлетворяющего условию.
// Ищем индекс первого числа, которое больше 5.
const indexGreaterThan5 = numbers.findIndex(num => num > 5);
console.log("5. Индекс первого числа > 5 (findIndex):", indexGreaterThan5); // 5 (т.к. элемент '6' имеет индекс 5)

// --- Упражнение 2: Сортировка и фильтрация объектов ---
// Задание: Отсортируйте и отфильтруйте массив объектов.

// Массив объектов студентов.
const students = [
  { name: "Анна", grade: 85, year: 2 },
  { name: "Иван", grade: 92, year: 1 },
  { name: "Мария", grade: 78, year: 3 },
  { name: "Петр", grade: 90, year: 2 },
  { name: "Елена", grade: 88, year: 1 }
];
console.log("\n--- Упражнение 2 ---");
console.log("Исходный массив студентов:", students);

// 1. sort(): Сортирует массив НА МЕСТЕ (изменяет исходный).
// Чтобы не менять исходный, создаем копию с помощью spread (...) перед сортировкой.
// Функция сравнения (a, b) => b.grade - a.grade:
//   - если результат > 0, 'a' идет после 'b' (сортировка по убыванию).
//   - если результат < 0, 'a' идет перед 'b'.
//   - если результат = 0, порядок не меняется.
const sortedByGrade = [...students].sort((a, b) => b.grade - a.grade);
console.log("1. Отсортированные по оценке (убывание):", sortedByGrade);

// 2. filter(): Отбираем студентов, у которых свойство 'year' равно 1.
const firstYearStudents = students.filter(student => student.year === 1);
console.log("2. Студенты 1-го курса (filter):", firstYearStudents);

// 3. reduce(): Находим студента с максимальной оценкой.
// 'top' - аккумулятор (хранит лучшего найденного студента), 'student' - текущий студент.
// Начальное значение аккумулятора - первый студент в массиве (students[0]).
const topStudent = students.reduce((top, student) => {
    // Если оценка текущего студента выше, чем у лучшего найденного,
    // то текущий студент становится новым лучшим (возвращается как аккумулятор).
    return student.grade > top.grade ? student : top;
}, students[0]); // Важно задать начальное значение!
console.log("3. Студент с лучшей оценкой (reduce):", topStudent);

// 4. map(): Создаем новый массив, содержащий только имена студентов.
const studentNames = students.map(student => student.name);
console.log("4. Имена студентов (map):", studentNames);

// 5. reduce() + length: Вычисляем среднюю оценку.
// Сначала считаем сумму оценок с помощью reduce.
const totalGrade = students.reduce((sum, student) => sum + student.grade, 0);
// Затем делим сумму на количество студентов. Проверяем, что массив не пуст.
const averageGrade = students.length > 0 ? totalGrade / students.length : 0;
console.log("5. Средняя оценка (reduce):", averageGrade.toFixed(2)); // Округляем до 2 знаков
</code></pre>
                <button class="run-code" data-example="guide-arrays">Запустить пример</button>
                <button class="copy-code">Скопировать</button>
                <button class="toggle-code">Скрыть код</button>
                <div class="output"></div>
            </div>
        </section>

        <div class="navigation-buttons">
            <a href="../index.html" class="button">← На главную</a>
            <a href="basics.html" class="button">Основы →</a>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>© 2025 JavaScript: Полное руководство для изучения</p>
        </div>
    </footer>

    <button id="scroll-top" style="display: none;">↑</button>

    <script src="../main.js" defer></script>
    <script src="../js/learning_guide.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        let currentArray = [1, 2, 3, 4, 5];

        function renderArray(containerId, array) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = "";
            array.forEach(item => {
                const element = document.createElement("div");
                element.className = "array-element";
                element.textContent = item;
                container.appendChild(element);
            });
        }

        function resetArray() {
            currentArray = [1, 2, 3, 4, 5];
            renderArray("original-array", currentArray);
            clearDemoResults();
        }

        function addElement() {
            const newValue = Math.floor(Math.random() * 100);
            currentArray.push(newValue);
            renderArray("original-array", currentArray);
            clearDemoResults();
        }

        function removeElement() {
            if (currentArray.length > 0) {
                currentArray.pop();
                renderArray("original-array", currentArray);
                clearDemoResults();
            }
        }

        function clearDemoResults() {
            const resultIds = ["push-result", "pop-result", "map-result-array", "map-result-text", "filter-result-array", "filter-result-text", "reduce-result"];
            resultIds.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.innerHTML = "";
            });
        }

        function demonstratePush() {
            clearDemoResults();
            const arrayCopy = [...currentArray];
            const result = arrayCopy.push(99);
            renderArray("original-array", arrayCopy); // Обновляем отображение исходного массива
            const resultEl = document.getElementById("push-result");
            if (resultEl) {
                resultEl.innerHTML = `
                <p>Результат вызова <code>push(99)</code>: ${result} (новая длина массива)</p>
                <p>Исходный массив изменен.</p>
               `;
            }
            currentArray = arrayCopy; // Сохраняем измененный массив
        }

        function demonstratePop() {
            clearDemoResults();
            const resultEl = document.getElementById("pop-result");
            if (!resultEl) return;

            if (currentArray.length === 0) {
                resultEl.innerHTML = `<p>Массив пуст, нечего удалять</p>`;
                return;
            }

            const arrayCopy = [...currentArray];
            const result = arrayCopy.pop();
            renderArray("original-array", arrayCopy); // Обновляем отображение исходного массива
            resultEl.innerHTML = `
              <p>Результат вызова <code>pop()</code>: ${result} (удаленный элемент)</p>
              <p>Исходный массив изменен.</p>
            `;
            currentArray = arrayCopy; // Сохраняем измененный массив
        }

        function demonstrateMap() {
            clearDemoResults();
            const resultArray = currentArray.map(x => x * 2);
            renderArray("map-result-array", resultArray);
            const resultTextEl = document.getElementById("map-result-text");
            if (resultTextEl) {
                resultTextEl.innerHTML = `
                <p>Результат вызова <code>map(x => x * 2)</code></p>
                <p>Исходный массив не изменен.</p>
               `;
            }
        }

        function demonstrateFilter() {
            clearDemoResults();
            const resultArray = currentArray.filter(x => x % 2 === 0);
            renderArray("filter-result-array", resultArray);
            const resultTextEl = document.getElementById("filter-result-text");
            if (resultTextEl) {
                resultTextEl.innerHTML = `
                    <p>Результат вызова <code>filter(x => x % 2 === 0)</code></p>
                    <p>Исходный массив не изменен.</p>
                `;
            }
        }

        function demonstrateReduce() {
            clearDemoResults();
            const result = currentArray.reduce((sum, x) => sum + x, 0);
            const resultEl = document.getElementById("reduce-result");
            if (resultEl) {
                resultEl.innerHTML = `
                    <p>Результат вызова <code>reduce((sum, x) => sum + x, 0)</code>: ${result}</p>
                    <p>Исходный массив не изменен.</p>
                `;
            }
        }

        // Инициализация демонстрации массивов при загрузке
        window.addEventListener('load', () => {
            renderArray("original-array", currentArray);
        });

        // Инициализация Prism после загрузки DOM
        document.addEventListener('DOMContentLoaded', (event) => {
            Prism.highlightAll();
        });
    </script>
</body>

</html>
```

И вот **обновленный JavaScript-код файла `learning_guide.js`** с комментариями, объясняющими логику запуска примеров
упражнений:


```javascript
// ===== Файл: js/learning_guide.js =====
// Этот файл содержит логику для кнопок "Запустить пример" на странице learning_guide.html.
// Он позволяет выполнять код упражнений, представленный в HTML, и выводить результат.

// --- Логика для выполнения примеров на странице learning_guide.html ---
// Оборачиваем весь код в DOMContentLoaded, чтобы гарантировать,
// что HTML-структура страницы полностью загружена перед тем, как мы начнем искать кнопки.
document.addEventListener('DOMContentLoaded', () => {
// Находим ВСЕ кнопки на странице, у которых есть CSS-класс 'run-code'.
document.querySelectorAll('.run-code').forEach(button => {
// Для каждой найденной кнопки добавляем обработчик события 'click'.
button.addEventListener('click', () => {
// --- Поиск связанных элементов ---
// Находим ближайший родительский элемент с классом 'code-block'.
// Это контейнер для блока кода, кнопок и вывода.
const codeBlock = button.closest('.code-block');
if (!codeBlock) {
// Если не нашли родительский блок, выводим предупреждение в консоль и выходим.
console.warn("Не найден родительский '.code-block' для кнопки.");
return;
}
// Внутри родительского блока ищем элемент
<pre><code>, содержащий код примера.
            const codeElement = codeBlock.querySelector('pre code');
            // Внутри родительского блока ищем элемент <div class="output"> для вывода результата.
            const outputDiv = codeBlock.querySelector('.output');

            // Проверяем, найдены ли оба элемента.
            if (!codeElement || !outputDiv) {
                console.warn("Не найдены элементы 'pre code' или 'div.output' внутри '.code-block'.");
                return; // Выходим, если что-то не найдено.
            }

            // Получаем ID примера из атрибута 'data-example' кнопки (может пригодиться для специфической логики).
            const exampleId = button.getAttribute('data-example');
            // Очищаем содержимое блока вывода от результатов предыдущего запуска.
            outputDiv.innerHTML = '';
            // Убираем класс 'error', если он был добавлен при предыдущей ошибке.
            outputDiv.classList.remove('error');

            // --- Перехват методов console ---
            // Сохраняем оригинальные функции console, чтобы можно было их вернуть позже.
            const originalConsoleLog = console.log;
            const originalConsoleError = console.error;
            const originalConsoleWarn = console.warn;
            // Создаем массив для сбора всех сообщений, перехваченных из console.
            const logs = [];

            // Универсальная функция-обработчик для перехвата вызовов console.
            const logHandler = (type) => (...args) => { // Принимает тип ('log', 'error', 'warn')
                // Форматируем все аргументы, переданные в console, для удобного отображения.
                const formattedArgs = args.map(arg => {
                    if (arg instanceof Error) { // Специальная обработка объектов Error.
                        // Выводим сообщение и первые строки стека вызовов.
                        return `Error: ${arg.message}\n${arg.stack ? arg.stack.split('\n').slice(0, 2).join('\n') : ''}`;
                    }
                    if (typeof arg === 'object' && arg !== null) { // Обработка других объектов.
                        try {
                            // Пытаемся преобразовать в красивую JSON-строку.
                            return JSON.stringify(arg, null, 2);
                        } catch (e) {
                            // Если не получилось (например, циклические ссылки), возвращаем заглушку.
                            return '[Circular Object]';
                        }
                    }
                    // Все остальное просто преобразуем в строку.
                    return String(arg);
                });
                // Добавляем отформатированное сообщение и его тип в наш массив логов.
                logs.push({ type: type, message: formattedArgs.join(' ') });
                // Вызываем ОРИГИНАЛЬНЫЙ метод console, чтобы сообщения также появлялись в консоли браузера.
                if (type === 'error') originalConsoleError.apply(console, args);
                else if (type === 'warn') originalConsoleWarn.apply(console, args);
                else originalConsoleLog.apply(console, args);
            };

            // Переназначаем стандартные методы console на нашу функцию-обработчик.
            console.log = logHandler('log');
            console.error = logHandler('error');
            console.warn = logHandler('warn');
            // --- Конец перехвата console ---

            // --- Выполнение кода примера ---
            try {
                // Получаем текстовое содержимое элемента <code> (это и есть код упражнения).
                const codeText = codeElement.textContent;
                // Создаем новую функцию "на лету" из строки с кодом.
                // Это позволяет выполнить код, написанный как текст в HTML.
                const userCode = new Function(codeText);
                // Выполняем созданную функцию (код упражнения).
                userCode();
                // --- Конец выполнения кода ---

                // --- Вывод результата в <div class="output"> ---
                // Проверяем, были ли сообщения в перехваченной консоли.
                if (logs.length > 0) {
                    // Если были, перебираем массив логов.
                    logs.forEach(log => {
                        // Для каждого сообщения создаем новый элемент <p>.
                        const p = document.createElement('p');
                        // Используем innerHTML для корректного отображения переносов строк (\n -> <br>).
                        p.innerHTML = log.message.replace(/\n/g, '<br>');
                        // Добавляем CSS-класс в зависимости от типа сообщения (log-info, log-warn, log-error).
                        p.classList.add(`log-${log.type}`);
                        // Если это была ошибка, добавляем класс 'error' ко всему блоку вывода.
                        if (log.type === 'error') outputDiv.classList.add('error');
                        // Добавляем созданный параграф в блок вывода.
                        outputDiv.appendChild(p);
                    });
                } else {
                    // Если в ходе выполнения кода не было вызовов console.
                    const p = document.createElement('p');
                    p.textContent = "Код выполнен без вывода в console.";
                    p.classList.add('log-info', 'italic'); // Добавляем стилизующие классы.
                    outputDiv.appendChild(p);
                }
                 // --- Конец вывода результата ---

            } catch (error) {
                // --- Обработка ошибок, возникших при ВЫПОЛНЕНИИ кода упражнения ---
                // Выводим ошибку в консоль (сработает наш перехватчик и добавит в logs).
                console.error("Ошибка выполнения кода примера:", error);
                 // Дополнительно выводим сообщение об ошибке в outputDiv,
                 // если она не попала в logs (маловероятно, но для надежности).
                 if (!logs.some(log => log.type === 'error')) {
                     const p = document.createElement('p');
                     p.innerHTML = `Ошибка выполнения: ${error.name}: ${error.message.replace(/\n/g, '<br>')}`;
                     p.classList.add('log-error');
                     outputDiv.appendChild(p);
                     outputDiv.classList.add('error'); // Помечаем весь блок как ошибочный.
                 }
                 // --- Конец обработки ошибок ---
            } finally {
                // --- Восстановление оригинальных методов console ---
                // Блок finally выполняется всегда, после try или catch.
                // Возвращаем стандартные функции console на место, чтобы не мешать другим скриптам.
                console.log = originalConsoleLog;
                console.error = originalConsoleError;
                console.warn = originalConsoleWarn;
                 // --- Конец восстановления console ---
            }
        }); // Конец обработчика 'click'
    }); // Конец forEach для кнопок
}); // Конец обработчика 'DOMContentLoaded'

// --- Конец файла learning_guide.js ---